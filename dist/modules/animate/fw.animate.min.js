F.ext({animate:function(a,b,c){var d,e=this;for(e.A=a,e.Ac=b&&!b.big?b:null,e.Ae=e.Ac?c:b,d=e.x[F.L];d--;)e._a(F(e.x[d]),0);return e},_a:function(a,b){function c(){a.off("transitionend",c),d.A[++b]?d._a(a,b):d.Ac&&d.Ac.call(d)}for(var d=this,e=d.A[b].split(" "),f=[],g={},h={},i={W:"width",H:"height",O:"opacity",P:"padding",PT:"padding-top",PR:"padding-right",PB:"padding-bottom",PL:"padding-left",M:"margin",MT:"margin-top",MR:"margin-right",MB:"margin-bottom",ML:"margin-left"},j=0;j<e[F.L];j++){var k=e[j],l=k.split(":"),m=l[0],n=l[1].split(","),o=n[0],p=n[1]||.5,q=parseFloat(n[2])||0,r=a.css(i[m]),s=a.data("matrixData"),t=[0,0,1];"W"==m&&a.css({width:r}),"H"==m&&a.css({height:r}),i[m]?h[i[m]]=o:i[m]="transform",f[j]=i[m]+" "+p+"s "+(d.Ae||"linear")+" "+q+"s","X"==m&&(g.tx=o),"Y"==m&&(g.ty=o),"R"==m&&(g.deg=o),"S"==m&&(g.scale=o)}s&&s.T&&(g.tx==[]._&&(g.tx=s.T.e(1,3)),g.ty==[]._&&(g.ty=s.T.e(2,3)));var u=parseFloat(g.deg||0)*(Math.PI/180),v=Math.cos(u),w=Math.sin(u),x=$M([[1,0,g.tx],[0,1,g.ty],t]),y=g.deg==[]._&&s?s.R:$M([[v,-w,0],[w,v,0],t]),z=g.scale==[]._&&s?s.S:$M([[g.scale,0,0],[0,g.scale,0],t]),A=x.x(y).x(z);a.data("matrixData",{T:x,R:y,S:z}),h.transform="matrix("+A.e(1,1)+", "+A.e(2,1)+", "+A.e(1,2)+", "+A.e(2,2)+", "+A.e(1,3)+", "+A.e(2,3)+")",h.transition=f.join(","),setTimeout(function(){a.on("transitionend",c).css(h)},0)},hide:function(a,b,c){return c=this,a?c.animate(["O:0,"+a],function(){c.css({display:"none"}),b&&b.call(c)}):c.css({display:"none"})},show:function(a,b,c,d){for(c=this,a||c.css({opacity:1,display:"block"}),d=c.x[F.L];d--;)"none"==F(c[d]).css("display")&&F(c[d]).css({opacity:0,display:"block"}),setTimeout(function(d){d.animate(["O:1,"+a],function(){b&&b.call(c)})},0,F(c[d]));return c}}),F.M=function(){},F.M.prototype={e:function(a,b){return this.E[a-1][b-1]},map:function(a){var b,c,d,e=this,f=[],g=e.E[F.L],h=g,i=e.E[0][F.L];do{b=h-g,c=i,f[b]=[];do d=i-c,f[b][d]=a(e.E[b][d],b+1,d+1);while(--c)}while(--g);return $M(f)},x:function(a){var b=this;if(!a.E)return b.map(function(b){return b*a});var c=a.E||a;if(c[0][0]==[]._&&(c=$M(c).E),!b.E[0][F.L]==c[F.L])return null;var d,e,f,g,h,i,j=b.E[F.L],k=j,l=c[0][F.L],m=b.E[0][F.L],n=[];do{d=k-j,n[d]=[],e=l;do{f=l-e,g=0,h=m;do i=m-h,g+=b.E[d][i]*c[i][f];while(--h);n[d][f]=g}while(--e)}while(--j);return $M(n)}},$M=function(a){var b,c=new F.M,d=a.E||a;if(d[0][0]!=[]._){var e,f,g,h=d[F.L],i=h;c.E=[];do{b=i-h,e=d[b][F.L],f=e,c.E[b]=[];do g=f-e,c.E[b][g]=d[b][g];while(--e)}while(--h);return c}var j=d[F.L],k=j;c.E=[];do b=k-j,c.E.push([d[b]]);while(--j);return c};