F.ext({parse:function(ctx,a,b,c){function pO(d,e,f,g,h){return d[a](RegExp("{{#{"+f+"}each(?: *)(\\w+)(?: *)}}([\\s\\S]*?){{\\/{"+f+"}each}}","g"),function(p1,prop1,partial){return g="",e[prop1]&&e[prop1].forEach(function(obj,i){g+=partial[a](pT(f),function(a,b){return h=e[prop1][i].big?e[prop1][i]:e[prop1][i][b],_e(a,h)}),g=g[a](pI(f),function(p2,prop3,partial,bool){try{bool=eval("ctx."+prop1+"["+i+"]."+prop3)}catch(e){bool=!1}return partial.match(b)?partial[a](bool?b:c,""):bool?partial:""}),g.match(RegExp("{{#{"+(f+1)+"}each","g"))&&(g=pO(g,e[prop1][i],f+1))}),g})}function _e(a,b){return"{{{"==a.substr(0,3)&&"}}}"==a.slice(-3)?new Option(b)[F.H]:b}function pT(a){return RegExp("{+\\{#{"+a+"} *(?!else)(\\w+) *}}+","g")}function pI(a){return RegExp("(?:{{#{"+a+"}if(?: *))(.*)(?: *)}}([\\s\\S]*?)(?:{{\\/{"+a+"}if}})","g")}return a="replace",b=/{{(#+)else}}[\s\S]*/,c=/[\s\S]*\{{(#+)else}}/,F(pO(this.html(),ctx,1)[a](pT(0),function(a,b){return _e(a,ctx[b])})[a](pI(1),function(d,e,f){return f[a](ctx[e]?b:c,"")})[a](/{%(.*)%}/g,function(p,$1){return eval($1)}).trim())}});