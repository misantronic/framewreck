F.ext({parse:function(ctx,r,e,E){function pO(a,b,c,d,e){return a[r](RegExp("{{#{"+c+"}each(?: *)(\\w+)(?: *)}}([\\s\\S]*?){{\\/{"+c+"}each}}","g"),function(a,f,g){return d="",b[f]&&b[f].forEach(function(a,h){d+=g[r](pT(c),function(a,c){return e=b[f][h].big?b[f][h]:b[f][h][c],_e(a,e)}),d=d.parseIf(c,"ctx."+f+"["+h+"].",b),d.match(RegExp("{{#{"+(c+1)+"}each","g"))&&(d=pO(d,b[f][h],c+1))}),d})}function _e(a,b){return"{{{"==a.substr(0,3)&&"}}}"==a.slice(-3)?new Option(b)[F.H]:b}function pT(a){return RegExp("{+\\{#{"+a+"} *(?!else)(\\w+) *}}+","g")}return r="replace",e=/{{(#+)else}}[\s\S]*/,E=/[\s\S]*\{{(#+)else}}/,String.prototype.parseIf=function(n,V,ctx){return this[r](RegExp("(?:{{#{"+n+"}if(?: *))(.*)(?: *)}}([\\s\\S]*?)(?:{{\\/{"+n+"}if}})","g"),function(p,c,d,f){try{f=eval(V+c)}catch(e){f=!1}return d.match(e)?d[r](f?e:E,""):f?d:""})},F(pO(this.html(),ctx,1)[r](pT(0),function(a,b){return _e(a,ctx[b])}).parseIf(1,"ctx.",ctx)[r](/{%(.*)%}/g,function(p,$1){return eval($1)}).trim())}});