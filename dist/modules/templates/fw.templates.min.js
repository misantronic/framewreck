F.ext({parse:function(a,b,c,d){function e(a,i,j,k,l){return a[b](RegExp("{{#{"+j+"}each(?: *)(\\w+)(?: *)}}([\\s\\S]*?){{\\/{"+j+"}each}}","g"),function(a,m,n){return k="",i[m]&&i[m].forEach(function(a,o){k+=n[b](g(j),function(a,b){return l=i[m][o].big?i[m][o]:i[m][o][b],f(a,l)}),k=k[b](h(j),function(a,b,e){return e.replace(i[m][o][b]?c:d,"")}),k.match(RegExp("{{#{"+(j+1)+"}each","g"))&&(k=e(k,i[m][o],j+1))}),k})}function f(a,b){return"{{{"==a.substr(0,3)&&"}}}"==a.slice(-3)?new Option(b)[F.H]:b}function g(a){return RegExp("{+\\{#{"+a+"} *(\\w+) *}}+","g")}function h(a){return RegExp("(?:{{#{"+a+"}if(?: *))(\\w+)(?: *)}}([\\s\\S]*?)(?:{{\\/{"+a+"}if}})","g")}return b="replace",c=/{{(#+)else a}}[\s\S]*/,d=/[\s\S]*\{{(#+)else a}}/,F(e(this.html().replace(/{{(#+) *else *}}/g,"{{$1else a}}"),a,1)[b](g(0),function(b,c){return f(b,a[c])})[b](h(1),function(b,e,f){return f.replace(a[e]?c:d,"")}).trim())}});