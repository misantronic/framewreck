F.ext({parse:function(a,b){function c(a,g,h,i,j){return a[b](RegExp("{{#{"+h+"}each(?: *)(\\w+)(?: *)}}([\\s\\S]*?){{\\/{"+h+"}each}}","g"),function(a,k,l){return i="",g[k]&&g[k].forEach(function(a,m){i+=l[b](e(h),function(a,b){return j=g[k][m].big?g[k][m]:g[k][m][b],d(a,j)}),i=i[b](f(h),function(a,b,c){return g[k][m][b]?c:""}),i.match(RegExp("{{#{"+(h+1)+"}each","g"))&&(i=c(i,g[k][m],h+1))}),i})}function d(a,b){return"{{{"==a.substr(0,3)&&"}}}"==a.slice(-3)?new Option(b)[F.H]:b}function e(a){return RegExp("{+\\{#{"+a+"} *(\\w+) *}}+","g")}function f(a){return RegExp("(?:{{#{"+a+"}if(?: *))(\\w+)(?: *)}}([\\s\\S]*?)(?:{{\\/{"+a+"}if}})","g")}return b="replace",F(c(this.html(),a,1)[b](e(0),function(b,c){return d(b,a[c])})[b](f(1),function(b,c,d){return a[c]?d:""}).trim())}});